package com.example.setting;
import java.io.File;
import java.io.FileReader;
import java.util.ArrayList;
import org.json.simple.JSONArray;
import org.json.simple.JSONObject;
import org.json.simple.parser.JSONParser;

public class FoodLoader {

    public static final String FOOD_FILE = "Setting/app/src/main/java/com/example/setting/Foods.json";

    public static ArrayList<FoodList> loadFoods() {
        ArrayList<FoodList> foodList = new ArrayList<>();

        try {
            File filename = new File(FOOD_FILE);
            FileReader reader = new FileReader(filename);
            JSONParser parser = new JSONParser();
            JSONArray foodsJSON = (JSONArray)parser.parse(reader);

            for (int i = 0; i < foodJSON.size(); i++) {
                JSONObject foodJSON = (JSONObject)foodsJSON.get(i);
                String name = (String)userJSON.get("name");
                String servingType = (String)userJSON.get("servingType");
                int servingSize = (int)userJSON.get("servingSize");
                int calories = (int)userJSON.get("calories");
                int carbs = (int)userJSON.get("carbs");
                int protein = (int)userJSON.get("protein");
                FoodList food_new = new FoodList(name, servingType, servingSize, calories, protein, carbs);
                foodList.add(food_new);
            }
            return foodList;
        }
        catch(Exception e) {
            e.pringStackTrace();
        }
        return null;
    }
}